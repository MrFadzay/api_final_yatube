# API социальной сети Yatube

## Описание

Данный проект представляет собой REST API версии v1 для социальной сети Yatube, ориентированной на блогеров. API построен на базе фреймворка Django REST framework и предоставляет возможности для создания, чтения, обновления и удаления контента платформы.

## Технологии
- Python 3.9+
- Django REST framework
- JWT аутентификация (Djoser)
- SQLite3

## Ключевые возможности

*   **Аутентификация:** Для идентификации пользователей и разграничения прав доступа используются JWT-токены.
*   **Доступ к контенту:** Неавторизованные пользователи могут только просматривать данные. Авторизованные же пользователи получают больше возможностей.
*   **Ограничения доступа:** Дополнительные ограничения установлены для эндпоинта `/follow/`. Доступ к нему имеют только авторизованные пользователи.
*   **Управление контентом:** Аутентифицированные пользователи могут создавать, изменять и удалять свои записи, комментарии и подписки. В остальных случаях доступ предоставляется только для чтения.
*   **Подписки:** Возможность подписываться на других пользователей и отслеживать их публикации.
*   **Записи:** Просмотр, добавление, редактирование и удаление постов.
*   **Группы:** Создание и просмотр сообществ (групп).
*   **Комментарии:** Добавление, редактирование, удаление собственных комментариев, а также просмотр чужих.
*   **Фильтрация:** Предусмотрена возможность фильтрации данных по различным полям.
*   **Документация:** Подробная документация по API доступна по адресу `http://127.0.0.1:8000/redoc/` после запуска сервера.

## Требования
- Python 3.9+
- pip

## Запуск проекта (режим разработки)

1.  **Клонирование репозитория:**
    ```bash
    git clone <ссылка на репозиторий>
    ```

2.  **Создание и активация виртуального окружения:**
    ```bash
    python3 -m venv venv
    source venv/bin/activate  # Для Linux/macOS
    # или
    venv\Scripts\activate     # Для Windows
    ```

3.  **Установка зависимостей:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **Переход в директорию проекта:**
    ```bash
    cd yatube_api
    ```

5.  **Применение миграций:**
    ```bash
    python manage.py migrate
    ```

6.  **Запуск сервера:**
    ```bash
    python manage.py runserver
    ```

## Примеры запросов API

### Работа с JWT-токенами

1. **Получение JWT-токена:**
```bash
POST /api/v1/jwt/create/
{
    "username": "user",
    "password": "password"
}
```
Ответ:
```json
{
    "refresh": "jwt-refresh-token",
    "access": "jwt-access-token"
}
```

### Работа с постами

1. **Получение списка всех постов:**
```bash
GET /api/v1/posts/
```
Ответ:
```json
{
    "count": 123,
    "next": "http://api.example.org/api/v1/posts/?offset=400&limit=100",
    "previous": "http://api.example.org/api/v1/posts/?offset=200&limit=100",
    "results": [
        {
            "id": 0,
            "author": "string",
            "text": "string",
            "pub_date": "2021-10-14T20:41:29.648Z",
            "image": "string",
            "group": 0
        }
    ]
}
```

2. **Создание нового поста:**
```bash
POST /api/v1/posts/
{
    "text": "Текст поста",
    "group": 1,
    "image": "string"
}
```
Ответ:
```json
{
    "id": 1,
    "author": "string",
    "text": "Текст поста",
    "pub_date": "2021-10-14T20:41:29.648Z",
    "image": "string",
    "group": 1
}
```

### Работа с комментариями

1. **Получение комментариев поста:**
```bash
GET /api/v1/posts/{post_id}/comments/
```
Ответ:
```json
[
    {
        "id": 1,
        "author": "string",
        "text": "string",
        "created": "2021-10-14T20:41:29.648Z",
        "post": 1
    }
]
```

2. **Добавление комментария:**
```bash
POST /api/v1/posts/{post_id}/comments/
{
    "text": "Текст комментария"
}
```
Ответ:
```json
{
    "id": 1,
    "author": "string",
    "text": "Текст комментария",
    "created": "2021-10-14T20:41:29.648Z",
    "post": 1
}
```

### Работа с подписками

1. **Получение списка подписок:**
```bash
GET /api/v1/follow/
```
Ответ:
```json
[
    {
        "user": "string",
        "following": "string"
    }
]
```

2. **Подписка на автора:**
```bash
POST /api/v1/follow/
{
    "following": "username"
}
```
Ответ:
```json
{
    "user": "string",
    "following": "username"
}
```

### Работа с группами

1. **Получение списка групп:**
```bash
GET /api/v1/groups/
```
Ответ:
```json
[
    {
        "id": 1,
        "title": "string",
        "slug": "string",
        "description": "string"
    }
]
```

2. **Информация о группе:**
```bash
GET /api/v1/groups/{id}/
```
Ответ:
```json
{
    "id": 1,
    "title": "string",
    "slug": "string",
    "description": "string"
}
```

**Полный перечень эндпоинтов и их подробное описание доступны в документации по адресу `http://127.0.0.1:8000/redoc/`.**
